---
title: 命令模式的应用
date: 2021-01-18 11:18:24
tags:
---
本文结合代码，浅谈命令模式的概念和应用。
## 动机
学习设计模式，掌握设计的动机和初衷，比模式本身的概念和实现更为重要。什么情况下会需要命令模式呢？
可以举出一些需求的例子，比如多个按钮的设计，游戏操作的设计等。

命令模式的特点：
1. 命令的请求者和执行者是解耦的，可以脱离二者存在。一个命令可以来自不同的请求者，可以被不同的执行者以不同的方式运行。
2. 命令的生命周期可以很长，不一定是跟随请求的生命周期。一个命令对象可能会在一段时间之后被执行，也可能重复执行。
3. 命令模式还支持撤销、排队等操作。

设计模式的目的是把不变的部分和变化的部分分开。（此处可以拓展面向对象设计的大原则，命令模式属于哪个原则？）
## 实现
对于JavaScript等语言来说，可以直接将具体操作的函数当作命令对象来绑定，而这个特性是一些面向对象语言不具备的。命令模式其实是**回调函数的一个面向对象替代品**。
---
## 参考资料
1. 游戏设计模式
2. 设计模式之禅
3. JavaScript设计模式与开发实践